-- phpMyAdmin SQL Dump
-- version 5.2.0
-- https://www.phpmyadmin.net/
--
-- Hôte : localhost:3306
-- Généré le : ven. 23 déc. 2022 à 11:05
-- Version du serveur : 8.0.30
-- Version de PHP : 8.1.10

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Base de données : `heh_impression`
--

-- --------------------------------------------------------

--
-- Structure de la table `consomable`
--

CREATE TABLE `consomable` (
  `cartouche` int DEFAULT NULL,
  `feuille` int DEFAULT NULL,
  `imprimante` int NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Déchargement des données de la table `consomable`
--

INSERT INTO `consomable` (`cartouche`, `feuille`, `imprimante`) VALUES
(21, 493, 1),
(25, 496, 2);

-- --------------------------------------------------------

--
-- Structure de la table `demandes`
--

CREATE TABLE `demandes` (
  `id_demande` int NOT NULL,
  `id_utilisateur` int NOT NULL,
  `fichier_contenu` mediumblob NOT NULL,
  `nombre_de_page` int NOT NULL,
  `couleur` tinyint(1) NOT NULL,
  `nombre_de_copie` int NOT NULL,
  `reliure` tinyint(1) NOT NULL,
  `page_de_garde` tinyint(1) NOT NULL,
  `date` date NOT NULL,
  `statut` varchar(255) NOT NULL,
  `fichier_nom` varchar(255) NOT NULL,
  `fichier_type` varchar(255) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Déchargement des données de la table `demandes`
--

INSERT INTO `demandes` (`id_demande`, `id_utilisateur`, `fichier_contenu`, `nombre_de_page`, `couleur`, `nombre_de_copie`, `reliure`, `page_de_garde`, `date`, `statut`, `fichier_nom`, `fichier_type`) VALUES
(7, 2, 0x7461626c652c74642c74687b0d0a09626f726465723a2032707820736f6c69643b0d0a7d0d0a74642c74687b0d0a09636f6c6f723a2077686974653b0d0a09626f726465722d636f6c6f723a20626c61636b3b0d0a0970616464696e673a20313070783b0d0a7d, 57, 1, 2, 0, 0, '2022-12-22', 'En attente', 'Nouveau Document texte.txt', 'text/plain'),
(8, 2, 0x31202d204368616e676572206c6573205573657273206465204d7953514c0d0a32202d204368616e676572206c6520706f7274206465205353482c2044c3a9736163746976657220726f6f74206c6f67696e207373682c2064c3a9736163746965722069707636207373680d0a33202d2053534c20616374697665720d0a34202d2053c3a963757269736572206669726577616c6c0d0a0d0a0d0a2a2a63657274696663617420626f6f74207061636b65742a2a200d0a35202d20696e7374616c6c6572206c6520636572746966696361742074736c200d0a0d0a0d0a6368616e676572206c65206d647020646520726f6f740d0a6368616e676572206c65206d6470206465206c277574696c697361746575720d0a0d0a64c3a97361637469766572206c6120726f757465206469726563746520535348204c6f67696e0d0a2a2a7065726d6974526f6f744c6f67696e206e6f2a2a0d0a73797374656d63746c20207265737461727420737368640d0a0d0a6368616e676572206c6520706f7274207061722064c3a96661757420646520737368200d0a6e616e6f202f6574632f7373682f737368645f636f6e6669670d0a706f72742035333234310d0a6c27616374697665722064616e73206c65206669726577616c6c0d0a0d0a6661697265206c6573206d6973657320c3a0206a6f7572206175746f6d6174697175656d656e74203a200d0a646e6620696e7374616c6c20646e662d6175746f6d617469630d0a68747470733a2f2f7777772e796f75747562652e636f6d2f77617463683f763d65304f7865703542474238, 5, 0, 1, 0, 0, '2022-12-22', 'En attente', 'a faire.txt', 'text/plain'),
(9, 2, 0x31202d204368616e676572206c6573205573657273206465204d7953514c0d0a32202d204368616e676572206c6520706f7274206465205353482c2044c3a9736163746976657220726f6f74206c6f67696e207373682c2064c3a9736163746965722069707636207373680d0a33202d2053534c20616374697665720d0a34202d2053c3a963757269736572206669726577616c6c0d0a0d0a0d0a2a2a63657274696663617420626f6f74207061636b65742a2a200d0a35202d20696e7374616c6c6572206c6520636572746966696361742074736c200d0a0d0a0d0a6368616e676572206c65206d647020646520726f6f740d0a6368616e676572206c65206d6470206465206c277574696c697361746575720d0a0d0a64c3a97361637469766572206c6120726f757465206469726563746520535348204c6f67696e0d0a2a2a7065726d6974526f6f744c6f67696e206e6f2a2a0d0a73797374656d63746c20207265737461727420737368640d0a0d0a6368616e676572206c6520706f7274207061722064c3a96661757420646520737368200d0a6e616e6f202f6574632f7373682f737368645f636f6e6669670d0a706f72742035333234310d0a6c27616374697665722064616e73206c65206669726577616c6c0d0a0d0a6661697265206c6573206d6973657320c3a0206a6f7572206175746f6d6174697175656d656e74203a200d0a646e6620696e7374616c6c20646e662d6175746f6d617469630d0a68747470733a2f2f7777772e796f75747562652e636f6d2f77617463683f763d65304f7865703542474238, 3, 1, 2, 1, 0, '2022-12-22', 'En attente', 'a faire.txt', 'text/plain'),
(10, 4, 0x496e7374616c6c657220476974687562203a0d0a0d0a68747470733a2f2f6465736b746f702e6769746875622e636f6d2f0d0a0d0a5475746f20696e7374616c6c6174696f6e203a0d0a0d0a68747470733a2f2f7777772e796f75747562652e636f6d2f77617463683f763d334a6444414a32595065550d0a0d0a4f4253204775696c6c61756d65206578706c69636174696f6e203a200d0a0d0a, 2, 0, 2, 1, 0, '2022-12-22', 'En attente', 'Installation Github .txt', 'text/plain');

-- --------------------------------------------------------

--
-- Structure de la table `utilisateurs`
--

CREATE TABLE `utilisateurs` (
  `id_utilisateur` int NOT NULL,
  `role` varchar(255) NOT NULL,
  `nombre_impression` int NOT NULL,
  `email` varchar(255) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Déchargement des données de la table `utilisateurs`
--

INSERT INTO `utilisateurs` (`id_utilisateur`, `role`, `nombre_impression`, `email`) VALUES
(1, 'admin', 0, 'antoine_malaise@rosin.lan'),
(2, 'enseignant', 4, 'karl_karl@rosin.lan'),
(4, 'enseignant', 1, 'simon_simon@rosin.lan');

--
-- Index pour les tables déchargées
--

--
-- Index pour la table `consomable`
--
ALTER TABLE `consomable`
  ADD PRIMARY KEY (`imprimante`);

--
-- Index pour la table `demandes`
--
ALTER TABLE `demandes`
  ADD PRIMARY KEY (`id_demande`);

--
-- Index pour la table `utilisateurs`
--
ALTER TABLE `utilisateurs`
  ADD PRIMARY KEY (`id_utilisateur`);

--
-- AUTO_INCREMENT pour les tables déchargées
--

--
-- AUTO_INCREMENT pour la table `consomable`
--
ALTER TABLE `consomable`
  MODIFY `imprimante` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=3;

--
-- AUTO_INCREMENT pour la table `demandes`
--
ALTER TABLE `demandes`
  MODIFY `id_demande` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=11;

--
-- AUTO_INCREMENT pour la table `utilisateurs`
--
ALTER TABLE `utilisateurs`
  MODIFY `id_utilisateur` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=5;
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
